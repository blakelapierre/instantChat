@import '../../mixins.less';

@menuWidth: 60%;
@collapseDuration: 0.4s;
@opacity: 0.85;

chat-menu {
  .menu-container {
    .expanded-view {
      position: absolute;

      right: 0%;
      bottom: 0%;

      width: @menuWidth;
      max-width: 25em;

      height: 100%;

      transform: scale(1);

      transition: bottom @collapseDuration ease, right @collapseDuration ease, transform @collapseDuration ease-in;

      .overlay {
        width: 100%;
        height: 100%;

        background-color: #333;

        opacity: 0.85;

        box-shadow: -5px 0px 10px #333;

        transition: background-color @collapseDuration ease, opacity @collapseDuration ease;
      }

      .menu-content {
        position: absolute;

        left: 0%;
        top: 0%;

        width: 100%;
        height: 100%;

        text-align: center;

        color: #fff;
        text-shadow: 0px 0px 15px #bddfff;

        overflow-y: auto;
        overflow-x: hidden;

        .header {
          height: 15%;
          width: 100%;

          .badge {
            display: block;

            margin-top: 0.25em;

            font-size: xx-large;

            .participants-count {
              display: block;

              margin-top: 0.5em;

              font-size: x-small;
            }
          }
        }

        .body {
          position: absolute;

          top: 15%;
          bottom: 0%;

          width: 100%;

          div {
            margin-top: 1em;
          }

          .name-input {
            width: 100%;

            input {
              width: 100%;

              text-align: center;

              font-size: large;
              font-family: 'Press Start 2P';

              color: #fff;
              text-shadow: 0px 0px 5px #333;

              background: transparent;
              border: none;

              .placeholder({
                color: #dff;
                font-family: 'Press Start 2P';
              });
            }
          }

          .thumbnail-container {
            width: 100%;

            .local-thumbnail {
              display: block;
              margin: 0 auto 0.5em auto;
            }

            .permission {
              display: block;

              font-size: xx-small;

              color: #4a4;
              text-shadow: 0px 0px 5px #060;

              input, span {
                vertical-align: middle;
              }

              .front-page,
              .front-page:visited {
                color: #09f;
                font-weight: bolder;
                text-shadow: 0px 0px 5px #036;
              }
            }
          }

          .menu-items {
            margin-top: 2em;

            text-align: left;

            ul {
              margin: 0 auto;

              width: inherit;

              list-style: none;

              a {
                text-decoration: none;
                color: inherit;

                .fa-envelope {
                  font-size: x-large;
                }

                span {
                  vertical-align: middle;
                }
              }

              li {
                display: block;

                font-size: medium;

                cursor: pointer;
              }

              li:not(:last-child) {
                margin-bottom: 1.5em;
              }
            }
          }
        }
      }
    }

    &.collapsed .expanded-view {
      right: -@menuWidth;
      bottom: -100%;
      transform: scale(0);

      .overlay {
        background-color: #bddfff;
        opacity: 0;
      }
    }

    @collapsedBackgroundColor: #999;

    .collapsed-view {
      position: absolute;

      right: 0%;
      bottom: 0%;

      height: 0%;
      width: 0%;

      text-align: center;

      color: #fff;

      box-shadow: 0px 0px 5px @collapsedBackgroundColor;

      cursor: pointer;

      transition: width @collapseDuration ease, height @collapseDuration ease;

      .overlay {
        width: 100%;
        height: 100%;

        background-color: @collapsedBackgroundColor;

        opacity: 0.5;
      }

      .glyph-table {
        position: absolute;

        top: 0%;
        left: 0%;

        width: 100%;
        height: 100%;

        display: table;

        .glyph {
          display: table-cell;
          vertical-align: middle;
        }
      }
    }

    &.collapsed .collapsed-view {
      height: 3em;
      width: 3em;
    }
  }
}